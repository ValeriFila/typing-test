{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,uEAAuE,QAAQ;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,sBAAsB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,UAAU,IAAI,OAAO;AAC7E,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,sBAAsB;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,KAAK;AACnE,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,kCAAkC,0BAA0B;AAC5D,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;;;;;;;;;;;;;;;;;;UCxTA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;;;;;;;;;;;;AClByB;AACJ;AACE;AACvB;AACA;AACA;AACA","sources":["webpack:///./css/style.css","webpack:///./src/main.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/publicPath","webpack:///./src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","const textContent = document.getElementById('text')\r\nconst spansDiv = document.getElementById('spans')\r\nconst pointsSpan = document.getElementById('points')\r\nconst loadingSpan = document.getElementById('loading')\r\nconst prec = document.getElementById('precision')\r\nconst velocity = document.getElementById('velocity')\r\nconst againButton = document.getElementById('again-button')\r\nconst startButton = document.getElementById('start')\r\nconst welcomeTitle = document.getElementById('welcome-title')\r\nconst initialInfo = document.getElementById('initial-information')\r\nconst languageButtons = document.getElementById('language')\r\nconst englishButton = document.getElementById('en')\r\nconst russianButton = document.getElementById('ru')\r\nconst skeleton = document.getElementById('skeleton-body')\r\n\r\n\r\nlet urlRu = 'https://fish-text.ru/get?format=html&number=1'\r\nlet urlEn = 'https://baconipsum.com/api/?type=all-meat&sentences=1&format=html'\r\nlet url = urlRu\r\nlet requiredLastElement\r\nlet lastElement\r\n\r\nlet timeoutText\r\nlet intervalTitle\r\nlet countVelocityInterval\r\nlet renderInterval\r\nlet timeoutPromise1\r\nlet timeoutPromise2\r\nlet arrayOfLetters\r\nlet correctAnswers\r\nlet chosenLanguage\r\n\r\nconst fetchRandomText = url => {\r\n    return new Promise(resolve => {\r\n        const fetchedText = fetch(url)\r\n        resolve(fetchedText)\r\n    })\r\n}\r\nlet counter\r\nfunction checkLetterForListener (event){\r\n    let currentElem = document.getElementById('current-element')\r\n    let requiredNextElement = document.getElementsByClassName(`letter${counter}`)\r\n    let nextElem = requiredNextElement[0]\r\n\r\n    if (currentElem.textContent === event.key) {\r\n        countVelocity()\r\n        currentElem.classList.remove('active-letter', 'wrong-letter')\r\n        currentElem.classList.add('correct-letter')\r\n        currentElem.removeAttribute('id')\r\n        if (currentElem.classList.contains(`letter${arrayOfLetters.length}`)) {\r\n            console.log('you entered the last letter')\r\n            clearInterval(renderInterval)\r\n            clearInterval(plusOneSecondCounter)\r\n            document.removeEventListener('keydown', checkLetterForListener)\r\n            return\r\n        }\r\n        nextElem.setAttribute('id', 'current-element')\r\n        nextElem.classList.add('active-letter')\r\n        counter++\r\n    } else if (event.key === 'Shift' || event.key === 'Control' || event.key === 'Alt' || event.key === 'Tab' || event.key === 'Enter' || event.key === 'Backspace' || event.key === 'AltGraph') {\r\n\r\n    } else {\r\n        if (currentElem.classList.contains('active-letter')) {\r\n            countPrecision(currentElem.textContent, event.key, arrayOfLetters)\r\n        }\r\n        currentElem.classList.remove('active-letter')\r\n        currentElem.classList.add('wrong-letter')\r\n    }\r\n}\r\n\r\nfunction setAttributesForFirstElement() {\r\n    const firstElement = document.querySelector('span')\r\n    firstElement.setAttribute('id', 'current-element')\r\n    firstElement.classList.add('active-letter')\r\n\r\n    document.addEventListener('keydown', checkLetterForListener)\r\n}\r\n\r\nfunction loadText(array) {\r\n    timeoutText = setTimeout(() => {\r\n        array.forEach((letter, index) => {\r\n            spansDiv.innerHTML += `<span class=\"letter${index + 1}\">${letter}</span>`\r\n        })\r\n    }, 1500)\r\n}\r\n\r\nfunction pointsSpanAnimation() {\r\n    intervalTitle = setInterval(() => {\r\n        switch (pointsSpan.textContent) {\r\n            case '...': pointsSpan.textContent = '.'\r\n                break;\r\n            case '.': pointsSpan.textContent = '..'\r\n                break;\r\n            default: pointsSpan.textContent = '...'\r\n        }\r\n    },500)\r\n}\r\n\r\nlet precision\r\nfunction countPrecision(curElem, pressedKey, array) {\r\n    if (curElem !== pressedKey) {\r\n        correctAnswers = correctAnswers - 1\r\n    }\r\n    precision = (correctAnswers / array.length * 100).toFixed(1)\r\n    prec.textContent = precision + '%'\r\n}\r\n\r\nfunction clickOnToggle(firstLanguage, secondLanguage) {\r\n    firstLanguage.style.backgroundColor = '#2d8843'\r\n    firstLanguage.style.color = '#e9ffea'\r\n    secondLanguage.style.backgroundColor = 'transparent'\r\n    secondLanguage.style.color = '#2d8843'\r\n}\r\n\r\nenglishButton.addEventListener('click', function () {\r\n    chosenLanguage = 'english'\r\n    url = urlEn\r\n    clickOnToggle(englishButton, russianButton)\r\n})\r\n\r\nrussianButton.addEventListener('click', function () {\r\n    chosenLanguage = 'russian'\r\n    url = urlRu\r\n    clickOnToggle(russianButton, englishButton)\r\n})\r\nfunction clickStartButton() {\r\n    welcomeTitle.classList.add('hide-element')\r\n    startButton.classList.add('hide-element')\r\n    languageButtons.classList.add('hide-element')\r\n    loadingSpan.textContent = 'Загрузка'\r\n    pointsSpan.textContent = '...'\r\n    pointsSpanAnimation()\r\n    initialInfo.style.display = 'flex'\r\n    textContent.style.width = '600px'\r\n    textContent.style.flexDirection = 'row'\r\n    textContent.style.display = 'block'\r\n    textContent.style.textAlign = 'initial'\r\n    skeleton.style.display = 'flex'\r\n    fillSkeletonWithText()\r\n    precision = 100\r\n    prec.textContent = precision + '%'\r\n    counter = 2\r\n\r\n    fetchRandomText(url)\r\n    .then((fetchedData) => {\r\n        return new Promise((resolve, reject) => {\r\n            timeoutPromise1 = setTimeout(() => resolve(fetchedData.text()), 1500)\r\n        })\r\n    })\r\n    .then((data) => {\r\n        const arrayLength = data.length\r\n        if (url === urlEn) {\r\n            arrayOfLetters = data.split('').slice(3, arrayLength - 5)\r\n        } else {\r\n            arrayOfLetters = data.split('').slice(3, arrayLength - 4)\r\n        }\r\n        arrayOfLetters.forEach((letter, index) => {\r\n            if (letter === '—') {\r\n                arrayOfLetters[index] = '-'\r\n            }\r\n            if (letter === '  ') {\r\n                arrayOfLetters[index] = ' '\r\n            }\r\n        })\r\n        correctAnswers = arrayOfLetters.length\r\n        return new Promise((resolve ,reject) => {\r\n            loadText(arrayOfLetters)\r\n            timeoutPromise2 = setTimeout(() => resolve(), 1500)\r\n        })\r\n    })\r\n    .then(() => {\r\n        renderVelocity()\r\n        clearTimeout(timeoutText)\r\n        clearTimeout(timeoutPromise1)\r\n        clearTimeout(timeoutPromise2)\r\n        clearInterval(intervalTitle)\r\n        requiredLastElement = document.getElementsByClassName(`letter${arrayOfLetters.length}`)\r\n        lastElement = requiredLastElement[0]\r\n        lastElement.setAttribute('id', 'last-element')\r\n        loadingSpan.textContent = 'Текст загружен'\r\n        pointsSpan.textContent = ''\r\n        loadingSpan.classList.add('smooth-hide')\r\n        skeleton.style.display = 'none'\r\n        setAttributesForFirstElement()\r\n    })\r\n    .catch(e => console.error(e))\r\n}\r\n\r\nfunction clickAgainButton() {\r\n    clearTimeout(timeoutText)\r\n    clearTimeout(timeoutPromise1)\r\n    clearTimeout(timeoutPromise2)\r\n    clearInterval(intervalTitle)\r\n\r\n    clearInterval(renderInterval)\r\n    clearInterval(plusOneSecondCounter)\r\n\r\n    document.removeEventListener('keydown', checkLetterForListener)\r\n\r\n    welcomeTitle.classList.remove('hide-element')\r\n    startButton.classList.remove('hide-element')\r\n    languageButtons.classList.remove('hide-element')\r\n\r\n    spansDiv.innerHTML = ''\r\n\r\n    loadingSpan.textContent = 'Тренажер слепой печати'\r\n    loadingSpan.style.opacity = '100%'\r\n    loadingSpan.classList.remove('smooth-hide')\r\n\r\n    velocity.textContent = '0 зн./мин'\r\n\r\n    pointsSpan.textContent = ''\r\n    initialInfo.style.display = 'none'\r\n\r\n    textContent.style.display = 'flex'\r\n    textContent.style.flexDirection = 'column'\r\n    textContent.style.width = '800px'\r\n    textContent.style.alignItems = 'center'\r\n    textContent.style.textAlign = 'center'\r\n\r\n    skeleton.innerHTML = ''\r\n    url = urlRu\r\n    clickOnToggle(russianButton, englishButton)\r\n}\r\n\r\nstartButton.onclick = clickStartButton\r\nagainButton.onclick = clickAgainButton\r\n\r\nlet pressedKeysNumber\r\nlet pressVelocity\r\nlet plusOneSecondCounter\r\nlet seconds\r\n\r\nfunction countVelocity() {\r\n    pressedKeysNumber++\r\n}\r\n\r\nfunction fillSkeletonWithText() {\r\n    let text = 'skeleton skeleton skeleton skeleton skeleton skeleton skeleton skeleton'\r\n    let arrayOfSkeletonText = text.split(' ')\r\n    arrayOfSkeletonText.forEach((word) => {\r\n        skeleton.innerHTML += `<span class=\"skeleton__text\">${word}</span>`\r\n    })\r\n}\r\n\r\nfunction renderVelocity() {\r\n    pressedKeysNumber = 1\r\n    seconds = 1\r\n    plusOneSecondCounter = setInterval(() => {\r\n        seconds++\r\n    }, 1000)\r\n    renderInterval = setInterval(() => {\r\n        pressVelocity = pressedKeysNumber/(seconds/60)\r\n        velocity.textContent = `${pressVelocity.toFixed(0)} зн./мин`\r\n    }, 100)\r\n}\r\n\r\n//1 вариант функции\r\n// async function loadTextContent() {\r\n//     const RESPONSE = await fetch(URL)\r\n//     const TEXT_FROM_RESPONSE = await RESPONSE.text()\r\n//     let arrayLength = TEXT_FROM_RESPONSE.length\r\n//     arrayOfLetters = TEXT_FROM_RESPONSE.split(\"\").slice(3, arrayLength - 4)\r\n//\r\n//     const promise = new Promise((resolve, reject) => {\r\n//         loadText(arrayOfLetters)\r\n//         setTimeout(() => {\r\n//             resolve()\r\n//         }, 3000)\r\n//     })\r\n//     promise.then(() => {\r\n//         clearTimeout(timeoutText)\r\n//         clearInterval(intervalTitle)\r\n//         LOADING_SPAN.textContent = 'Текст загружен'\r\n//         POINTS_SPAN.textContent = ''\r\n//         LOADING_SPAN.classList.add('smooth-hide')\r\n//         setAttributesForFirstElement()\r\n//     })\r\n// }\r\n\r\n//2 вариант\r\n// fetchRandomText(URL)\r\n//     .then((fetchedData) => {\r\n//         return fetchedData.text()\r\n//     })\r\n//     .then((data) => {\r\n//         const arrayLength = data.length\r\n//         arrayOfLetters = data.split('').slice(3, arrayLength - 4)\r\n//         arrayOfLetters.forEach((letter, index) => {\r\n//             if (letter === '—') {\r\n//                 arrayOfLetters[index] = '-'\r\n//             }\r\n//             if (letter === '  ') {\r\n//                 arrayOfLetters[index] = '   '\r\n//             }\r\n//         })\r\n//         correctAnswers = arrayOfLetters.length\r\n//     })\r\n//     .then(() => {\r\n//         return new Promise((resolve ,reject) => {\r\n//             loadText(arrayOfLetters)\r\n//             setTimeout(() => resolve(), 3000)\r\n//         })\r\n//     })\r\n//     .then(() => {\r\n//         clearTimeout(timeoutText)\r\n//         clearInterval(intervalTitle)\r\n//         loadingSpan.textContent = 'Текст загружен'\r\n//         pointsSpan.textContent = ''\r\n//         loadingSpan.classList.add('smooth-hide')\r\n//         setAttributesForFirstElement()\r\n//     })\r\n//     .catch(e => console.error(e))\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import '../css/style.css'\r\nimport '/src/main.js'\r\nimport '../favicon.ico'\r\n// import '/src/learning-info'\r\n// import '/src/test'\r\n// import '/src/test2'\r\n\r\n"],"names":[],"sourceRoot":""}